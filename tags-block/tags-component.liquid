<div class="usp-widget">
    {% if block.settings.badge_one != blank %}
    <div class="usp-widget__item">
        {%- capture sizes1 -%}
        (max-width: 999px) 100vw, min({{ block.settings.icon_one.width | ceil }}px, {{ block.settings.width | default:
        50 }}px)
        {%- endcapture -%}
        {{ block.settings.icon_one | image_url: width: block.settings.icon_one.width | image_tag:
        loading: 'lazy',
        sizes: sizes1,
        widths: '45,90,135,180,300',
        class: 'usp-widget__icon'
        }}
        <p class="usp-widget__text">{{ block.settings.badge_one }}</p>
    </div>
    {% endif %}

    {% if block.settings.badge_two != blank %}
    <div class="usp-widget__item">
        {%- capture sizes2 -%}
        (max-width: 999px) 100vw, min({{ block.settings.icon_two.width | ceil }}px, {{ block.settings.width | default:
        50 }}px)
        {%- endcapture -%}
        {{ block.settings.icon_two | image_url: width: block.settings.icon_two.width | image_tag:
        loading: 'lazy',
        sizes: sizes2,
        widths: '45,90,135,180,300',
        class: 'usp-widget__icon'
        }}
        <p class="usp-widget__text">{{ block.settings.badge_two }}</p>
    </div>
    {% endif %}

    {% if block.settings.badge_three != blank %}
    <div class="usp-widget__item">
        {%- capture sizes3 -%}
        (max-width: 999px) 100vw, min({{ block.settings.icon_three.width | ceil }}px, {{ block.settings.width | default:
        50 }}px)
        {%- endcapture -%}
        {{ block.settings.icon_three | image_url: width: block.settings.icon_three.width | image_tag:
        loading: 'lazy',
        sizes: sizes3,
        widths: '45,90,135,180,300',
        class: 'usp-widget__icon'
        }}
        <p class="usp-widget__text">{{ block.settings.badge_three }}</p>
    </div>
    {% endif %}
</div>

{% comment %}
{
"type": "usp_items",
"name": "USP Items",
"limit": 1,
"settings": [
{
"type": "image_picker",
"id": "icon_one",
"label": "Icon"
},
{
"type": "text",
"id": "badge_one",
"label": "Text",
"default" : "Text"
},
{
"type": "image_picker",
"id": "icon_two",
"label": "Icon"
},
{
"type": "text",
"id": "badge_two",
"label": "Text",
"default" : "Text"
},
{
"type": "image_picker",
"id": "icon_three",
"label": "Icon"
},
{
"type": "text",
"id": "badge_three",
"label": "Text",
"default" : "Text"
},
{
"type": "range",
"id": "width",
"min": 24,
"max": 64,
"step": 1,
"unit": "px",
"label": "Icon width",
"default": 32
}
]
}
{% endcomment %}